/**
 * Исправления для мобильных устройств
 * Предотвращает выход элементов за края экрана
 */

/* Глобальные исправления */
@media (max-width: 768px) {
  /* Принудительное ограничение ширины */
  * {
    max-width: 100vw !important;
    box-sizing: border-box !important;
  }
  
  /* Убираем горизонтальный скролл */
  html, body {
    overflow-x: hidden !important;
    width: 100vw !important;
    max-width: 100vw !important;
  }
  
  /* Исправления для основных контейнеров */
  .main-container {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    width: 100vw !important;
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }
  
  .page-container {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
  }
  
  /* Исправления для карточек */
  .history-card,
  .profile-header,
  .custom-modal {
    width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
    word-wrap: break-word !important;
  }
  
  /* Специальные исправления для ленты историй */
  .histories-container {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    width: 100vw !important;
    max-width: 100vw !important;
  }
  
  .histories-list {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    width: 100% !important;
    max-width: 100% !important;
  }
  
  .history-card {
    max-width: 90vw !important;
  }
  
  /* Исправления для ленты подписок */
  .following-container,
  .subscriptions-container {
    width: 100vw !important;
    max-width: 100vw !important;
    padding: 12px 5px !important;
    margin: 0 !important;
  }
  
  .following-list,
  .subscriptions-list {
    width: 100% !important;
    max-width: 100% !important;
  }
  
  /* Исправления для форм */
  .form-container {
    width: calc(100vw - 16px) !important;
    max-width: calc(100vw - 16px) !important;
    margin-left: 8px !important;
    margin-right: 8px !important;
  }
  
  /* Исправления для мессенджера */
  .messenger-page {
    width: 100vw !important;
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }
  
  .messenger-container {
    width: 100vw !important;
    max-width: 100vw !important;
    left: 0 !important;
    right: 0 !important;
  }
  
  /* Исправления для модальных окон */
  .custom-modal-backdrop {
    width: 100vw !important;
    max-width: 100vw !important;
    left: 0 !important;
    right: 0 !important;
  }
  
  .custom-modal {
    width: calc(100vw - 16px) !important;
    max-width: calc(100vw - 16px) !important;
    margin: 8px !important;
  }
  
  /* Исправления для текста */
  p, h1, h2, h3, h4, h5, h6, span, div, a {
    word-wrap: break-word !important;
    overflow-wrap: break-word !important;
    hyphens: auto !important;
    max-width: 100% !important;
  }
  
  /* Исправления для кнопок */
  button, .btn, .custom-modal-btn {
    max-width: 100% !important;
    word-wrap: break-word !important;
  }
  
  /* Исправления для изображений */
  img {
    max-width: 100% !important;
    height: auto !important;
  }
  
  /* Исправления для видео */
  video {
    max-width: 100% !important;
    height: auto !important;
  }
  
  /* Исправления для таблиц */
  table {
    width: 100% !important;
    max-width: 100% !important;
    table-layout: fixed !important;
  }
  
  /* Исправления для списков */
  ul, ol {
    padding-left: 16px !important;
    margin-left: 0 !important;
  }
}

/* Дополнительные исправления для очень маленьких экранов */
@media (max-width: 480px) {
  .form-container {
    width: calc(100vw - 8px) !important;
    max-width: calc(100vw - 8px) !important;
    margin-left: 4px !important;
    margin-right: 4px !important;
  }
  
  .custom-modal {
    width: calc(100vw - 8px) !important;
    max-width: calc(100vw - 8px) !important;
    margin: 4px !important;
  }
}
